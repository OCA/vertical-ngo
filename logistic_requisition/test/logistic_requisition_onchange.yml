-
  Given I set no requester type on a partner
-
  !record {model: res.partner, id: base.res_partner_4}:
    requester_type:
-
  When I create a logistic requisition for this partner
-
  !record {model: logistic.requisition, id: logistic_requisition_01}:
    requester_id: base.res_partner_4
    consignee_id: base.res_partner_3
    date_delivery: !eval "time.strftime('%Y-%m-%d')"
    user_id: base.user_demo
-
  Then the requester type of the logistic requisition should be empty
-
  !assert {model: logistic.requisition, id: logistic_requisition_01, string: The requester type should be empty}:
    - not requester_type
-
  Given I set the 'external' requester type on a partner
-
  !record {model: res.partner, id: base.res_partner_5}:
    requester_type: external
-
  When I change the logistic requisition for this partner
-
  !record {model: logistic.requisition, id: logistic_requisition_01}:
    requester_id: base.res_partner_5
-
  Then the requester type of the logistic requisition should be 'external'
-
  !assert {model: logistic.requisition, id: logistic_requisition_01, string: The requester type should be 'external'}:
    - requester_type == 'external'
-
  Given I set the 'internal' requester type the commercial entity of a contact
-
  !record {model: res.partner, id: base.res_partner_2}:
    requester_type: internal
-
  When I change the logistic requisition for this contact
-
  !record {model: logistic.requisition, id: logistic_requisition_01}:
    requester_id: base.res_partner_address_4
-
  Then the requester type of the logistic requisition should be 'internal'
-
  !assert {model: logistic.requisition, id: logistic_requisition_01, string: The requester type should be 'internal'}:
    - requester_type == 'internal'
